# Set the control character to Ctrl+A (instead of Ctrl+B)
set -g prefix C-a
unbind-key C-b
bind-key C-a send-prefix

# Extend buffer in order to grep in it
set-option -g history-limit 10000

# Set new panes to open in current directory
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Easier scrolling in Alacritty https://dev.to/terkwood/fast-scrolling-with-tmux-and-alacritty-3dmn
set -g mouse on
set -ga terminal-overrides ',*256color*:smcup@:rmcup@'

# vi mode + selection from nvim
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# remove delay for exiting insert mode with ESC in Neovim
set -sg escape-time 10

# tpm plugin
set -g @plugin 'tmux-plugins/tpm'

# list of tmux plugins
set -g @plugin 'jimeh/tmux-themepack'
set -g @plugin 'tmux-plugins/tmux-resurrect' # persist tmux sessions after computer restart
set -g @plugin 'tmux-plugins/tmux-continuum' # automatically saves sessions for you every 15 minutes
set -g @treemux-tree-nvim-init-file '~/.config/tmux/plugins/treemux/configs/treemux_init.lua'
set -g @plugin 'kiyoon/treemux'
set -g @themepack 'powerline/default/cyan'

# Enable continuum by default; requires sometimes purging ~/.tmux/resurrect
set -g @continuum-restore 'on'

# Make resurrect automatically save pane contents to give clue as to what the
# user was doing.  Note that we do NOT want to restore processes, as
# automatically re-running anything can be disorienting (even the vim stuff,
# in my opinion).
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-processes 'false'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# Ctrl+a Shift+i to reload config
run '~/.config/tmux/plugins/tpm/tpm'
